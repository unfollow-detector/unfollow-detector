import{a as R,t as j}from"./index.DtjGZb10.js";import{y as A,O,P as U,Q as H}from"./scheduler.q-hIDPZu.js";import{w as T,r as Q}from"./index.BKMfexei.js";function Z(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function K(e,i){j(e,1,1,()=>{i.delete(e.key)})}function ee(e,i){e.f(),K(e,i)}function te(e,i,o,r,d,n,t,c,s,l,h,p){let u=e.length,w=n.length,g=u;const _={};for(;g--;)_[e[g].key]=g;const M=[],b=new Map,y=new Map,I=[];for(g=w;g--;){const a=p(d,n,g),f=o(a);let m=t.get(f);m?I.push(()=>m.p(a,i)):(m=l(f,a),m.c()),b.set(f,M[g]=m),f in _&&y.set(f,Math.abs(g-_[f]))}const L=new Set,v=new Set;function E(a){R(a,1),a.m(c,h),t.set(a.key,a),h=a.first,w--}for(;u&&w;){const a=M[w-1],f=e[u-1],m=a.key,S=f.key;a===f?(h=a.first,u--,w--):b.has(S)?!t.has(m)||L.has(m)?E(a):v.has(S)?u--:y.get(m)>y.get(S)?(v.add(m),E(a)):(L.add(S),u--):(s(f,t),u--)}for(;u--;){const a=e[u];b.has(a.key)||s(a,t)}for(;w;)E(M[w-1]);return A(I),M}function ne(e,i){const o={},r={},d={$$scope:1};let n=e.length;for(;n--;){const t=e[n],c=i[n];if(c){for(const s in t)s in c||(r[s]=1);for(const s in c)d[s]||(o[s]=c[s],d[s]=1);e[n]=c}else for(const s in t)d[s]=1}for(const t in r)t in o||(o[t]=void 0);return o}function se(e){return typeof e=="object"&&e!==null?e:{}}const C="modalStore";function oe(){const e=U(C);if(!e)throw new Error("modalStore is not initialized. Please ensure that `initializeStores()` is invoked in the root layout file of this app!");return e}function ie(){const e=N();return O(C,e)}function N(){const{subscribe:e,set:i,update:o}=T([]);return{subscribe:e,set:i,update:o,trigger:r=>o(d=>(d.push(r),d)),close:()=>o(r=>(r.length>0&&r.shift(),r)),clear:()=>i([])}}const V={message:"Missing Toast Message",autohide:!0,timeout:5e3},x="toastStore";function re(){const e=U(x);if(!e)throw new Error("toastStore is not initialized. Please ensure that `initializeStores()` is invoked in the root layout file of this app!");return e}function ae(){const e=$();return O(x,e)}function Y(){const e=Math.random();return Number(e).toString(32)}function $(){const{subscribe:e,set:i,update:o}=T([]),r=n=>o(t=>{if(t.length>0){const c=t.findIndex(l=>l.id===n),s=t[c];s&&(s.callback&&s.callback({id:n,status:"closed"}),s.timeoutId&&clearTimeout(s.timeoutId),t.splice(c,1))}return t});function d(n){if(n.autohide===!0)return setTimeout(()=>{r(n.id)},n.timeout)}return{subscribe:e,close:r,trigger:n=>{const t=Y();return o(c=>{n&&n.callback&&n.callback({id:t,status:"queued"}),n.hideDismiss&&(n.autohide=!0);const s={...V,...n,id:t};return s.timeoutId=d(s),c.push(s),c}),t},freeze:n=>o(t=>(t.length>0&&clearTimeout(t[n].timeoutId),t)),unfreeze:n=>o(t=>(t.length>0&&(t[n].timeoutId=d(t[n])),t)),clear:()=>i([])}}const P={};function z(e){return e==="local"?localStorage:sessionStorage}function k(e,i,o){const r=JSON,d="local";function n(t,c){z(d).setItem(t,r.stringify(c))}if(!P[e]){const t=T(i,l=>{const h=z(d).getItem(e);h&&l(r.parse(h));{const p=u=>{u.key===e&&l(u.newValue?r.parse(u.newValue):null)};return window.addEventListener("storage",p),()=>window.removeEventListener("storage",p)}}),{subscribe:c,set:s}=t;P[e]={set(l){n(e,l),s(l)},update(l){const h=l(H(t));n(e,h),s(h)},subscribe:c}}return P[e]}const q=k("modeOsPrefers",!1),J=k("modeUserPrefers",void 0),B=k("modeCurrent",!1);function ce(){const e=window.matchMedia("(prefers-color-scheme: light)").matches;return q.set(e),e}function de(e){J.set(e)}function ue(e){const i=document.documentElement.classList,o="dark";e===!0?i.remove(o):i.add(o),B.set(e)}function le(){const e=document.documentElement.classList,i=localStorage.getItem("modeUserPrefers")==="false",o=!("modeUserPrefers"in localStorage),r=window.matchMedia("(prefers-color-scheme: dark)").matches;i||o&&r?e.add("dark"):e.remove("dark")}const D="(prefers-reduced-motion: reduce)";function F(){return window.matchMedia(D).matches}const fe=Q(F(),e=>{{const i=r=>{e(r.matches)},o=window.matchMedia(D);return o.addEventListener("change",i),()=>{o.removeEventListener("change",i)}}});export{ae as a,ne as b,se as c,re as d,Z as e,ee as f,oe as g,ue as h,ie as i,ce as j,de as k,B as m,fe as p,le as s,te as u};
